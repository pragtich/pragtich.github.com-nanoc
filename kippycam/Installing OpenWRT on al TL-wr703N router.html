<!DOCTYPE HTML>
<html lang="en">
<!-- Set up & clean variables --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Joris Pragt’s site – Pragtich: Installing OpenWRT on a Tl-WR703N router</title>
<link rel="stylesheet" type="text/css" href="../stylesheet.css" media="screen">
<!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="Pragtich blog
    feed" href="http://members.home.nl/pragtich/atom.xml">
</head>
<body>
  <titleframe><titlebar><div id="largetitle"> <a href="../">Pragtich</a>
</div>

	<div id="secnav">

	</div>
	<div id="artnav">
	</div> 
	</titlebar></titleframe><article><!-- If there's no item title; we print no header, even if
           there's a date. --><header><hgroup><h1 class="itemtitle">Installing OpenWRT on a Tl-WR703N router</h1>

          
          <h2 class="itemdate">22 Aug 2012</h2>
          



        </hgroup></header><summary>
             The TL-WR703N is a fantastic little router for projects. It took me a few trials and some error to get OpenWRT Attitude Adjustment installed on it with an external USB flash disk and USB webcam. This is how to do it…</summary><bodytext><h1 id="preparation">Preparation</h1>

<p>At the time of writing, only the trunk version of OpenWRT (‘Attitude
Adjustment’) supports the TL-WR703N router, as it’s pretty new. So
that means some risk, but also the benefit of the newest stuff. Some
preparation is required.</p>

<h2 id="check-the-information">Check the information</h2>

<p>As the trunk version can break every now and then, do your
research. Start at
<a href="http://wiki.openwrt.org/toh/tp-link/tl-wr703n">the OenWRT wiki page for the router</a>. This
will tell you if there’s big issues you need to look out for.</p>

<p>For more recent info, check <a href="https://forum.openwrt.org/">the forums.</a>
More specifically there is also
<a href="https://forum.openwrt.org/viewtopic.php?id=31729">a long type-specific thread here.</a></p>

<h2 id="mirror-the-repository">Mirror the repository</h2>

<p>What is not told in the OpenWRT install instructions, is that the
trunk gets regenerated nearly every day. So, once installed, you will
have to work with the newly updated repository any time you want to
use <code>opkg</code>. That is not such an issue when installing packages
(versions are checked by <code>opkg</code>), but it <em>can be</em> in the case of
kernel modules (<code>kmod-*</code>). These are dependent on a certain kernel
build!</p>

<p>So, in effect:
** You typically will not be able to install additional kernel modules
from the repository after the main installation!**</p>

<p>So, mirror the repository. It’s wasteful of bandwidth, but at least
all the kernel modules for your specific build should be stashed
somewhere when you need them. Because I did not understand the details
of this when I ran into is, I just mirrored the entire <code>/packages</code>
folder from
<a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages">downloads.openwrt.org</a>
using wget.</p>

<p>To allow easy installation locally, I put them in the OS X web server
folder and configured <code>/etc/opkg.conf</code> to refer to the local
server. That way, <code>opkg update</code> and other <code>opkg</code> commands are local,
and stable. Of course, getting stuff from the public repository is as
easy as re-editing <code>/etc/opkg.conf</code>, although I’m sure there’s also
more advanced ways if you study the details of opkg.</p>

<h1 id="basic-installation">Basic installation</h1>
 
</bodytext><footer><p>
  </p>
<div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'pragtich'; // required: replace example with your forum shortname
  var disqus_identifier = 'wr703n-openwrt';
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
        
      </footer></article><nav><h2>Categories</h2>
      <ul>
<li>
<a href="../all_Computer%20stuff.html">Computer stuff</a> </li>



   <li>
<a href="../all_Life.html">Life</a> </li>



   <li>
<a href="../all_Kippycam.html">Kippycam</a> </li>



      </ul>
<h2>About</h2>
      <ul>
<li><a href="../about/">About me</a></li>
      </ul></nav>
</body>
</html>
